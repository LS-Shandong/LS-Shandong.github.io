<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>所有文章 - LS-Shandong 的博客</title>
    <link>https://ls-shandong.github.io/posts/</link>
    <description>所有文章 | LS-Shandong 的博客</description>
    <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Mon, 19 Aug 2024 14:48:00 &#43;0800</lastBuildDate><atom:link href="https://ls-shandong.github.io/posts/" rel="self" type="application/rss+xml" /><item>
  <title>如何将 MIDI 音乐文件转换为 MP3 文件并压缩？</title>
  <link>https://ls-shandong.github.io/posts/2024-8-19-1/</link>
  <pubDate>Mon, 19 Aug 2024 14:48:00 &#43;0800</pubDate>
  <author>LS-Shandong</author>
  <guid>https://ls-shandong.github.io/posts/2024-8-19-1/</guid>
  <description><![CDATA[<div class="featured-image"><img loading="eager" src="/images/blogs/2024-8-19-1/2024-8-19.png" alt="如何将 MIDI 音乐文件转换为 MP3 文件并压缩？" title="如何将 MIDI 音乐文件转换为 MP3 文件并压缩？" referrerpolicy="no-referrer"/></div><p>MIDI 曾经非常流行。在专业音乐创作/编曲中，它仍然起着至关重要的作用。本文主要介绍将 MIDI（.mid）文件转换为 MP3 文件的方法。</p>
<p>本文全部操作均在 Arch Linux 环境下。</p>
<h2 id="需要的软件包" class="heading-element"><span>需要的软件包</span>
  <a href="#%e9%9c%80%e8%a6%81%e7%9a%84%e8%bd%af%e4%bb%b6%e5%8c%85" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>要转换 MIDI（.mid）文件，我们需要：</p>
<ul>
<li>
<p>一个<strong>常见的</strong>合成器（比如 FluidSynth 或 TiMidity++）</p>
</li>
<li>
<p>soundfont（比如 Fluid 或 FreePats）</p>
</li>
<li>
<p>软件包 ffmpeg（TiMidity++ 需要） 或 twolame（FluidSynth 需要）</p>
</li>
</ul>
<p>要压缩 MIDI（.mid）文件，我们需要：</p>
<ul>
<li>ffmpeg</li>
</ul>
<p>上述软件包均存在于官方仓库中。要安装它们，直接运行：</p>
<p><code>pacman -S 软件包名称</code></p>
<h2 id="转换" class="heading-element"><span>转换</span>
  <a href="#%e8%bd%ac%e6%8d%a2" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 id="对于-fluidsynth" class="heading-element"><span>对于 FluidSynth</span>
  <a href="#%e5%af%b9%e4%ba%8e-fluidsynth" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>要将 MIDI（.mid）文件转换为 MP3 文件，运行：</p>
<p><code>$ fluidsynth -l -T raw -F - /usr/share/soundfonts/FluidR3_GM.sf2 input.mid | twolame -b 256 -r - output.mp3</code>
<div class="details admonition tip open">
    <div class="details-summary admonition-title">
      <i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><p>将 <em>FluidR3_GM.sf2</em> 替换为您选择的 <em>soundfont</em>，</p>
<p>将 <em>input.mid</em> 替换为要转换的 MIDI 文件，</p>
<p>将 <em>output.mp3</em> 替换为目标 mp3 文件。</p>
</div>
    </div>
  </div></p>
<h3 id="对于-timidity" class="heading-element"><span>对于 TiMidity</span>
  <a href="#%e5%af%b9%e4%ba%8e-timidity" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>要将 MIDI（.mid）文件转换为 MP3 文件，运行：</p>
<p><code>$ timidity input.mid -Ow -o - | ffmpeg -i - -acodec libmp3lame -ab 256k out.mp3</code></p>
<div class="details admonition tip open">
    <div class="details-summary admonition-title">
      <i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><p>将 <em>input.mid</em> 替换为要转换的 MIDI 文件，</p>
<p>将 <em>output.mp3</em> 替换为目标 mp3 文件。</p>
</div>
    </div>
  </div>
<h2 id="压缩" class="heading-element"><span>压缩</span>
  <a href="#%e5%8e%8b%e7%bc%a9" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>我们在前面转换的时候设置 mp3 文件码率为256kbps，可以通过降低码率来压缩 mp3，运行：</p>
<p><code>$ ffmpeg -i input.mp3 -b:a 128k output.mp3</code></p>
<div class="details admonition tip open">
    <div class="details-summary admonition-title">
      <i class="icon fa-solid fa-lightbulb fa-fw" aria-hidden="true"></i>提示<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i>
    </div>
    <div class="details-content">
      <div class="admonition-content"><p>将 <em>input.mp3</em> 替换为要压缩的 mp3 文件，</p>
<p>将 <em>output.mp3</em> 替换为目标 mp3 文件。</p>
<p>将 <em>128k</em> 替换为目标码率</p>
</div>
    </div>
  </div>
<p>还有其它方法，慢慢补充。</p>
<h2 id="参见" class="heading-element"><span>参见</span>
  <a href="#%e5%8f%82%e8%a7%81" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>1.<a href="https://wiki.archlinux.org/title/MIDI"target="_blank" rel="external nofollow noopener noreferrer">MIDI -ArchWiki</a>
2.<a href="https://wiki.archlinuxcn.org/wiki/FluidSynth"target="_blank" rel="external nofollow noopener noreferrer">FluidSynth -Arch Linux 中文维基</a>
3.<a href="https://wiki.archlinuxcn.org/wiki/Timidity%2B%2B"target="_blank" rel="external nofollow noopener noreferrer">Timidity++ -Arch Linux 中文维基</a></p>]]></description>
</item>
<item>
  <title>《乾坤带》选段-满园春色艳阳天</title>
  <link>https://ls-shandong.github.io/posts/2024-8-17-2/</link>
  <pubDate>Sat, 17 Aug 2024 18:11:06 &#43;0800</pubDate>
  <author>LS-Shandong</author>
  <guid>https://ls-shandong.github.io/posts/2024-8-17-2/</guid>
  <description><![CDATA[<p>评剧《乾坤带》选段欣赏。</p>
<div class="bilibili">
  <iframe src="//player.bilibili.com/player.html?bvid=BV1EP4y1W7PJ&page=1&autoplay=false&poster=true&muted=false&danmaku=true&t=0" border="0" framespacing="0" allowfullscreen="true"></iframe>
</div>
<p>今天突然想听评剧了，这是新凤霞先生比较出名的一段评剧“满园春色艳阳天”，选自《乾坤带》,后面的“绑子上殿”更为经典。</p>]]></description>
</item>
<item>
  <title>Arch Linux 上 LaTex 环境的安装与配置</title>
  <link>https://ls-shandong.github.io/posts/2024-8-17-1/</link>
  <pubDate>Sat, 17 Aug 2024 12:21:02 &#43;0800</pubDate>
  <author>LS-Shandong</author>
  <guid>https://ls-shandong.github.io/posts/2024-8-17-1/</guid>
  <description><![CDATA[<p>我们要使用 Latex,一般是要安装 Tex Live 和一个 Latex 编辑器，这在 Linux 上很容易实现。</p>
<h2 id="安装" class="heading-element"><span>安装</span>
  <a href="#%e5%ae%89%e8%a3%85" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h2 id="安装-tex-live" class="heading-element"><span>安装 Tex Live</span>
  <a href="#%e5%ae%89%e8%a3%85-tex-live" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>TeX Live 包括许多 Tex 引擎，如 pdfTex、XeTex、LuaTex。</p>
<p>官方仓库里存在一个名为 <strong>texlive</strong> 的软件包组，其中包含了包含大多数 TeX Live 包，根据上游集合进行分类，还要安装 <strong>texlive-lang</strong> 以获得中文等语言的支持。</p>
<p>此外，还可以安装 <strong>texlive-doc</strong> 以获得整个 TeX Live 文档和源文件。</p>
<h2 id="安装编辑器" class="heading-element"><span>安装编辑器</span>
  <a href="#%e5%ae%89%e8%a3%85%e7%bc%96%e8%be%91%e5%99%a8" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>我个人比较倾向于使用 <strong>TeXstudio</strong> 和 <strong>kile</strong>。直接从官方源安装即可。</p>
<h3 id="texstudio-的配置" class="heading-element"><span>TeXstudio 的配置</span>
  <a href="#texstudio-%e7%9a%84%e9%85%8d%e7%bd%ae" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>要启用 XeTex 以获得 Unicode 和现代字体技术支持,转至 <em><strong>选项 &gt; 设置TeXstudio &gt; 构建 &gt; 默认编译器</strong></em>。选择 <em>XeTex</em> 即可。</p>]]></description>
</item>
<item>
  <title>在 Linux 上使用无线网卡（网卡基于RTL8188GU芯片）</title>
  <link>https://ls-shandong.github.io/posts/2024-8-15-1/</link>
  <pubDate>Thu, 15 Aug 2024 13:29:43 &#43;0800</pubDate>
  <author>LS-Shandong</author>
  <guid>https://ls-shandong.github.io/posts/2024-8-15-1/</guid>
  <description><![CDATA[<p>我的网卡为<strong>迅捷150UH</strong>，我准备在我的 Arch Linux 上使用之。</p>
<p>可运行 <code>lsusb</code> 命令以查询此网卡之芯片型号。lsusb 命令由软件包 <code>usbutils</code> 提供。</p>
<pre><code>$ lsusb
</code></pre>
<p>经查询，我的无线网卡芯片型号为 <strong>RTL8188GU</strong>，<code>linux-firmware</code>软件包中已包含驱动程序 <code>rtl8xxxu</code> ，这一般无需手动装载，要装载：</p>
<pre><code># modprobe rtl8xxxu
</code></pre>
<p>但是，我的无线网卡基于 RTL8188GU，需要安装 <code>usb_modeswitch</code> 以将其切换至 Wifi 模式（这个网络上资料不多） 。</p>
<pre><code># pacman -S usb_modeswitch
</code></pre>
<p>无线网卡已可使用。</p>]]></description>
</item>
</channel>
</rss>
